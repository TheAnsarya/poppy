{
	"NES Project Template": {
		"prefix": "nes-project",
		"body": [
			"; NES Project - ${1:Game Title}",
			"; Target: NES/Famicom (6502)",
			"",
			".target \"nes\"",
			".cpu \"6502\"",
			"",
			"; === iNES Header ===",
			".ines_prg ${2:2}",
			".ines_chr ${3:1}",
			".ines_mirroring \"${4:v}\"",
			".ines_mapper ${5:0}",
			"",
			"; === Constants ===",
			".define PPU_CTRL \\$2000",
			".define PPU_MASK \\$2001",
			".define PPU_STATUS \\$2002",
			".define PPU_SCROLL \\$2005",
			".define PPU_ADDR \\$2006",
			".define PPU_DATA \\$2007",
			".define OAM_DMA \\$4014",
			"",
			"; === Code ===",
			".org \\$c000",
			"",
			"reset_handler:",
			"\tsei",
			"\tcld",
			"\tldx #\\$ff",
			"\ttxs",
			"\t$0",
			"\tjmp main_loop",
			"",
			"main_loop:",
			"\tjmp main_loop",
			"",
			"nmi_handler:",
			"\trti",
			"",
			"irq_handler:",
			"\trti",
			"",
			"; === Vectors ===",
			".org \\$fffa",
			".dw nmi_handler",
			".dw reset_handler",
			".dw irq_handler",
			""
		],
		"description": "Complete NES project template with iNES header"
	},
	"SNES Project Template": {
		"prefix": "snes-project",
		"body": [
			"; SNES Project - ${1:Game Title}",
			"; Target: Super Nintendo (65816)",
			"",
			".target \"snes\"",
			".cpu \"65816\"",
			".lorom",
			"",
			"; === SNES Header ===",
			".snes_title \"${2:GAME TITLE}\"",
			".snes_rom_size ${3:256}",
			".snes_region ${4:1}",
			"",
			"; === Constants ===",
			".define INIDISP \\$2100",
			".define NMITIMEN \\$4200",
			".define VBLANK_NMI \\$80",
			"",
			"; === Code ===",
			".org \\$8000",
			"",
			"reset:",
			"\tsei",
			"\tclc",
			"\txce",
			"\trep #\\$38",
			"\t.a16",
			"\t.i16",
			"\t$0",
			"\tjmp main_loop",
			"",
			"nmi:",
			"\trti",
			"",
			"main_loop:",
			"\twai",
			"\tjmp main_loop",
			"",
			"; === Vectors ===",
			".org \\$ffea",
			".dw nmi",
			".org \\$ffec",
			".dw reset",
			""
		],
		"description": "Complete SNES project template with LoROM header"
	},
	"Game Boy Project Template": {
		"prefix": "gb-project",
		"body": [
			"; Game Boy Project - ${1:Game Title}",
			"; Target: Game Boy (SM83)",
			"",
			".target \"gb\"",
			".cpu \"sm83\"",
			"",
			"; === Game Boy Header ===",
			".gb_title \"${2:TITLE}\"",
			".gb_cartridge_type ${3:0}",
			".gb_rom_size ${4:32}",
			".gb_ram_size ${5:0}",
			"",
			"; === Constants ===",
			".define LCDC \\$ff40",
			".define STAT \\$ff41",
			".define LY \\$ff44",
			".define IE \\$ffff",
			".define IF \\$ff0f",
			"",
			"; === Entry Point ===",
			".org \\$0100",
			"\tnop",
			"\tjp start",
			"",
			"; === Code ===",
			".org \\$0150",
			"",
			"start:",
			"\tdi",
			"\tld sp, \\$fffe",
			"\t$0",
			"\tjp main_loop",
			"",
			"vblank_handler:",
			"\treti",
			"",
			"main_loop:",
			"\thalt",
			"\tjp main_loop",
			"",
			"; === Interrupt Vectors ===",
			".org \\$0040",
			"\tjp vblank_handler",
			""
		],
		"description": "Complete Game Boy project template with header"
	},
	"Genesis Project Template": {
		"prefix": "genesis-project",
		"body": [
			"; Sega Genesis Project - ${1:Game Title}",
			"; Target: Genesis/Mega Drive (M68000)",
			"",
			".target \"genesis\"",
			".cpu \"m68000\"",
			"",
			"; === Genesis Header at \\$100 ===",
			".org \\$000000",
			"",
			"; Vector table",
			"vectors:",
			"\t.dl \\$00ffe00           ; Initial SP",
			"\t.dl start               ; Reset vector",
			"\t.dl error_handler       ; Bus error",
			"\t.dl error_handler       ; Address error",
			"\t.dl error_handler       ; Illegal instruction",
			"\t.dl error_handler       ; Division by zero",
			"\t.dl error_handler       ; CHK exception",
			"\t.dl error_handler       ; TRAPV exception",
			"\t.dl error_handler       ; Privilege violation",
			"\t.dl error_handler       ; Trace exception",
			"\t.dl error_handler       ; Line A emulator",
			"\t.dl error_handler       ; Line F emulator",
			"\t.ds 12 * 4              ; Reserved",
			"\t.dl error_handler       ; Spurious interrupt",
			"\t.ds 7 * 4               ; Reserved interrupts",
			"\t.dl vblank_handler      ; VBlank (Level 6)",
			"\t.dl hblank_handler      ; HBlank (Level 4)",
			"\t.dl error_handler       ; External (Level 2)",
			"\t.ds 16 * 4              ; TRAP vectors",
			"",
			"; === Code ===",
			".org \\$000200",
			"",
			"start:",
			"\tmove.w #\\$2700, sr      ; Disable interrupts",
			"\tlea \\$00ffe00, sp       ; Set stack",
			"\t$0",
			"\tjmp main_loop",
			"",
			"main_loop:",
			"\tjmp main_loop",
			"",
			"vblank_handler:",
			"hblank_handler:",
			"error_handler:",
			"\trte",
			""
		],
		"description": "Complete Sega Genesis project template"
	},
	"GBA Project Template": {
		"prefix": "gba-project",
		"body": [
			"; Game Boy Advance Project - ${1:Game Title}",
			"; Target: GBA (ARM7TDMI)",
			"",
			".target \"gba\"",
			".cpu \"arm7tdmi\"",
			".arm",
			"",
			"; === GBA ROM Header ===",
			".org \\$08000000",
			"",
			"header:",
			"\tb start                 ; Branch to start",
			"\t.ds 156                 ; Nintendo logo (filled by tool)",
			"\t.ascii \"${2:TITLE}\"       ; Game title (12 chars)",
			"\t.ds 4                   ; Padding",
			"\t.ascii \"${3:01}\"          ; Game code",
			"\t.ascii \"${4:01}\"          ; Maker code",
			"\t.db \\$96                ; Fixed value",
			"\t.db \\$00                ; Main unit code",
			"\t.db \\$00                ; Device type",
			"\t.ds 7                   ; Reserved",
			"\t.db \\$00                ; Software version",
			"\t.db \\$00                ; Complement check",
			"\t.dw \\$0000              ; Checksum",
			"",
			"; === Code ===",
			".org \\$080000c0",
			"",
			"start:",
			"\t; Set up IRQ handler",
			"\tldr r0, =irq_handler",
			"\tldr r1, =\\$03007ffc",
			"\tstr r0, [r1]",
			"\t",
			"\t; Initialize stack",
			"\tmov r0, #\\$1f          ; System mode",
			"\tmsr cpsr_c, r0",
			"\tldr sp, =\\$03007f00",
			"\t$0",
			"\tb main_loop",
			"",
			"main_loop:",
			"\tb main_loop",
			"",
			"irq_handler:",
			"\tbx lr",
			""
		],
		"description": "Complete Game Boy Advance project template"
	},
	"Master System Project Template": {
		"prefix": "sms-project",
		"body": [
			"; Sega Master System Project - ${1:Game Title}",
			"; Target: SMS/Game Gear (Z80)",
			"",
			".target \"sms\"",
			".cpu \"z80\"",
			"",
			"; === SMS Header ===",
			".org \\$0000",
			"",
			"; RST vectors",
			"\tjp start",
			"\t.ds 5",
			"",
			"; === Interrupt handlers ===",
			".org \\$0038                ; INT handler",
			"\treti",
			"",
			".org \\$0066                ; NMI handler (pause)",
			"\tretn",
			"",
			"; === SEGA Header ===",
			".org \\$7ff0",
			"\t.ascii \"TMR SEGA\"",
			"\t.ds 2                    ; Reserved",
			"\t.dw \\$0000               ; Checksum",
			"\t.db \\$00                 ; Product code",
			"\t.db \\$00                 ; Version",
			"\t.db \\$4c                 ; Region/size",
			"",
			"; === Code ===",
			".org \\$0100",
			"",
			"start:",
			"\tdi",
			"\tim 1",
			"\tld sp, \\$dff0",
			"\t$0",
			"\tjp main_loop",
			"",
			"main_loop:",
			"\thalt",
			"\tjp main_loop",
			""
		],
		"description": "Complete Sega Master System project template"
	},
	"TurboGrafx-16 Project Template": {
		"prefix": "tg16-project",
		"body": [
			"; TurboGrafx-16 Project - ${1:Game Title}",
			"; Target: PC Engine (HuC6280)",
			"",
			".target \"tg16\"",
			".cpu \"huc6280\"",
			"",
			"; === PC Engine Header ===",
			".org \\$e000",
			"",
			"start:",
			"\tsei",
			"\tcsh                     ; High speed mode",
			"\tcld",
			"\tldx #\\$ff",
			"\ttxs",
			"\t",
			"\t; Set up MPRs",
			"\tlda #\\$ff",
			"\ttam #\\$00               ; I/O page",
			"\tlda #\\$f8",
			"\ttam #\\$01               ; RAM",
			"\t$0",
			"\tjmp main_loop",
			"",
			"main_loop:",
			"\twai",
			"\tjmp main_loop",
			"",
			"irq1_handler:",
			"irq2_handler:",
			"timer_handler:",
			"nmi_handler:",
			"\trti",
			"",
			"; === Vectors ===",
			".org \\$fff6",
			"\t.dw irq2_handler        ; IRQ2",
			"\t.dw irq1_handler        ; IRQ1",
			"\t.dw timer_handler       ; Timer",
			"\t.dw nmi_handler         ; NMI",
			"\t.dw start               ; Reset",
			""
		],
		"description": "Complete TurboGrafx-16/PC Engine project template"
	},
	"Atari 2600 Project Template": {
		"prefix": "a2600-project",
		"body": [
			"; Atari 2600 Project - ${1:Game Title}",
			"; Target: Atari 2600 (6507)",
			"",
			".target \"a2600\"",
			".cpu \"6507\"",
			"",
			"; === TIA Constants ===",
			".define VSYNC \\$00",
			".define VBLANK \\$01",
			".define WSYNC \\$02",
			".define COLUBK \\$09",
			".define PF0 \\$0d",
			".define PF1 \\$0e",
			".define PF2 \\$0f",
			"",
			"; === Code ===",
			".org \\$f000",
			"",
			"start:",
			"\tsei",
			"\tcld",
			"\tldx #\\$ff",
			"\ttxs",
			"\t",
			"\t; Clear TIA and RAM",
			"\tlda #\\$00",
			"@clear:",
			"\tsta \\$00, x",
			"\tdex",
			"\tbne @clear",
			"\t$0",
			"",
			"main_loop:",
			"\t; VSYNC",
			"\tlda #\\$02",
			"\tsta VSYNC",
			"\tsta WSYNC",
			"\tsta WSYNC",
			"\tsta WSYNC",
			"\tlda #\\$00",
			"\tsta VSYNC",
			"\t",
			"\t; VBLANK (37 scanlines)",
			"\tlda #\\$02",
			"\tsta VBLANK",
			"\tldx #37",
			"@vblank:",
			"\tsta WSYNC",
			"\tdex",
			"\tbne @vblank",
			"\t",
			"\t; Visible (192 scanlines)",
			"\tlda #\\$00",
			"\tsta VBLANK",
			"\tldx #192",
			"@visible:",
			"\tsta WSYNC",
			"\tdex",
			"\tbne @visible",
			"\t",
			"\t; Overscan (30 scanlines)",
			"\tldx #30",
			"@overscan:",
			"\tsta WSYNC",
			"\tdex",
			"\tbne @overscan",
			"\t",
			"\tjmp main_loop",
			"",
			"; === Vectors ===",
			".org \\$fffc",
			"\t.dw start               ; Reset",
			"\t.dw start               ; IRQ",
			""
		],
		"description": "Complete Atari 2600 project template with proper timing"
	},
	"Atari Lynx Project Template": {
		"prefix": "lynx-project",
		"body": [
			"; Atari Lynx Project - ${1:Game Title}",
			"; Target: Atari Lynx (65SC02)",
			"",
			".target \"lynx\"",
			".cpu \"65sc02\"",
			"",
			"; === Lynx Header ===",
			".org \\$0200",
			"",
			"start:",
			"\tsei",
			"\tcld",
			"\tldx #\\$ff",
			"\ttxs",
			"\t$0",
			"\tjmp main_loop",
			"",
			"main_loop:",
			"\twai",
			"\tjmp main_loop",
			"",
			"irq_handler:",
			"\trti",
			"",
			"; === Vectors ===",
			".org \\$fffa",
			"\t.dw irq_handler         ; NMI",
			"\t.dw start               ; Reset",
			"\t.dw irq_handler         ; IRQ",
			""
		],
		"description": "Complete Atari Lynx project template"
	},
	"WonderSwan Project Template": {
		"prefix": "ws-project",
		"body": [
			"; WonderSwan Project - ${1:Game Title}",
			"; Target: WonderSwan (V30MZ)",
			"",
			".target \"ws\"",
			".cpu \"v30mz\"",
			"",
			"; === WonderSwan Code ===",
			".org \\$0000",
			"",
			"start:",
			"\tcli",
			"\tcld",
			"\tmov ax, \\$0000",
			"\tmov ds, ax",
			"\tmov es, ax",
			"\tmov ss, ax",
			"\tmov sp, \\$2000",
			"\t$0",
			"\tjmp main_loop",
			"",
			"main_loop:",
			"\thlt",
			"\tjmp main_loop",
			"",
			"irq_handler:",
			"\tiret",
			"",
			"; === Reset Vector ===",
			".org \\$fff0",
			"\tjmp start",
			""
		],
		"description": "Complete WonderSwan project template"
	},
	"SPC700 Audio Project Template": {
		"prefix": "spc700-project",
		"body": [
			"; SNES SPC700 Audio Project - ${1:Track Name}",
			"; Target: SNES APU (SPC700)",
			"",
			".target \"spc700\"",
			".cpu \"spc700\"",
			"",
			"; === SPC700 Constants ===",
			".define DSP_ADDR \\$00f2",
			".define DSP_DATA \\$00f3",
			".define PORT0 \\$00f4",
			".define PORT1 \\$00f5",
			".define PORT2 \\$00f6",
			".define PORT3 \\$00f7",
			".define TIMER0 \\$00fa",
			".define TIMER1 \\$00fb",
			".define TIMER2 \\$00fc",
			".define CONTROL \\$00f1",
			"",
			"; === Code ===",
			".org \\$0200",
			"",
			"start:",
			"\tclrp                    ; Clear direct page flag",
			"\tmov x, #\\$ff",
			"\tmov sp, x",
			"\t$0",
			"\tjmp main_loop",
			"",
			"main_loop:",
			"\tnop",
			"\tjmp main_loop",
			""
		],
		"description": "Complete SNES SPC700 audio project template"
	},
	"Wait for VBlank (NES)": {
		"prefix": "wait-vblank-nes",
		"body": [
			"wait_vblank:",
			"\tbit PPU_STATUS",
			":\tbit PPU_STATUS",
			"\tbpl :-",
			"\trts"
		],
		"description": "Wait for NES VBlank via PPU_STATUS polling"
	},
	"Wait for VBlank (GB)": {
		"prefix": "wait-vblank-gb",
		"body": [
			"wait_vblank:",
			"\tld a, [LY]",
			"\tcp ${1:144}",
			"\tjr nz, wait_vblank",
			"\tret"
		],
		"description": "Wait for Game Boy VBlank by polling LY register"
	},
	"PPU Address Setup (NES)": {
		"prefix": "ppu-addr",
		"body": [
			"\tlda #>${1:\\$2000}",
			"\tsta PPU_ADDR",
			"\tlda #<${1:\\$2000}",
			"\tsta PPU_ADDR"
		],
		"description": "Set PPU address for NES VRAM access"
	},
	"DMA Transfer (NES)": {
		"prefix": "dma-oam",
		"body": [
			"\tlda #>${1:oam_buffer}",
			"\tsta OAM_DMA"
		],
		"description": "Trigger OAM DMA transfer on NES"
	},
	"Read Controller (NES)": {
		"prefix": "read-controller-nes",
		"body": [
			"\tlda #\\$01",
			"\tsta \\$4016",
			"\tlda #\\$00",
			"\tsta \\$4016",
			"\tldx #\\$08",
			":",
			"\tlda \\$4016",
			"\tlsr a",
			"\trol ${1:controller1}",
			"\tdex",
			"\tbne :-"
		],
		"description": "Read NES controller input into memory"
	},
	"Read Joypad (GB)": {
		"prefix": "read-joypad-gb",
		"body": [
			"\tld a, \\$20",
			"\tld [\\$ff00], a",
			"\tld a, [\\$ff00]",
			"\tld a, [\\$ff00]",
			"\tcpl",
			"\tand \\$0f",
			"\tswap a",
			"\tld ${1:buttons}, a",
			"\tld a, \\$10",
			"\tld [\\$ff00], a",
			"\tld a, [\\$ff00]",
			"\tld a, [\\$ff00]",
			"\tcpl",
			"\tand \\$0f",
			"\tor ${1:buttons}",
			"\tld ${1:buttons}, a"
		],
		"description": "Read Game Boy joypad input"
	},
	"Copy to VRAM (SNES)": {
		"prefix": "vram-copy-snes",
		"body": [
			"\tlda #\\$80",
			"\tsta VMAIN",
			"\tldx #${1:vram_dest}",
			"\tstx VMADDL",
			"\tldx #${2:source_addr}",
			"\tldy #${3:length}",
			":",
			"\tlda $0000,x",
			"\tsta VMDATAL",
			"\tinx",
			"\tdey",
			"\tbne :-"
		],
		"description": "Copy data to SNES VRAM"
	},
	"Macro Definition": {
		"prefix": "macro",
		"body": [
			".macro ${1:name} ${2:param1}, ${3:param2}",
			"\t$0",
			".endmacro"
		],
		"description": "Define a macro with parameters"
	},
	"Conditional Block": {
		"prefix": "ifdef",
		"body": [
			".ifdef ${1:SYMBOL}",
			"\t$0",
			".endif"
		],
		"description": "Conditional assembly block"
	},
	"If-Else Block": {
		"prefix": "if-else",
		"body": [
			".if ${1:condition}",
			"\t$2",
			".else",
			"\t$3",
			".endif",
			"$0"
		],
		"description": "If-else conditional assembly"
	},
	"Scope Block": {
		"prefix": "scope",
		"body": [
			".scope ${1:name}",
			"\t$0",
			".endscope"
		],
		"description": "Define a named scope"
	},
	"Repeat Block": {
		"prefix": "repeat",
		"body": [
			".repeat ${1:count}",
			"\t$0",
			".endrep"
		],
		"description": "Repeat assembly block N times"
	},
	"Define Byte Array": {
		"prefix": "db-array",
		"body": [
			".db ${1:value1}, ${2:value2}, ${3:value3}$0"
		],
		"description": "Define byte array"
	},
	"Define Word Array": {
		"prefix": "dw-array",
		"body": [
			".dw ${1:value1}, ${2:value2}, ${3:value3}$0"
		],
		"description": "Define word (16-bit) array"
	},
	"Define String": {
		"prefix": "ascii",
		"body": [
			".ascii \"${1:text}\"$0"
		],
		"description": "Define ASCII string"
	},
	"Reserve Space": {
		"prefix": "ds",
		"body": [
			".ds ${1:size}$0"
		],
		"description": "Reserve space (define storage)"
	},
	"Include Binary File": {
		"prefix": "incbin",
		"body": [
			".incbin \"${1:filename.bin}\"$0"
		],
		"description": "Include binary file"
	},
	"Include Source File": {
		"prefix": "include",
		"body": [
			".include \"${1:filename.pasm}\"$0"
		],
		"description": "Include assembly source file"
	},
	"16-bit Addition (6502)": {
		"prefix": "add16",
		"body": [
			"\tclc",
			"\tlda ${1:low_byte}",
			"\tadc ${2:value_low}",
			"\tsta ${1:low_byte}",
			"\tlda ${3:high_byte}",
			"\tadc ${4:value_high}",
			"\tsta ${3:high_byte}"
		],
		"description": "16-bit addition on 6502"
	},
	"16-bit Comparison (6502)": {
		"prefix": "cmp16",
		"body": [
			"\tlda ${1:high_byte}",
			"\tcmp ${2:value_high}",
			"\tbne :+",
			"\tlda ${3:low_byte}",
			"\tcmp ${4:value_low}",
			":"
		],
		"description": "16-bit comparison on 6502"
	},
	"Clear Memory Range": {
		"prefix": "clear-mem",
		"body": [
			"\tlda #\\$00",
			"\tldx #${1:size}",
			":",
			"\tsta ${2:address},x",
			"\tdex",
			"\tbne :-"
		],
		"description": "Clear memory range to zero"
	},
	"Copy Memory Block": {
		"prefix": "memcpy",
		"body": [
			"\tldx #${1:size}",
			":",
			"\tlda ${2:source},x",
			"\tsta ${3:dest},x",
			"\tdex",
			"\tbne :-"
		],
		"description": "Copy memory block"
	}
}
