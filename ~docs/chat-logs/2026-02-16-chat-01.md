# Chat Log: February 16, 2026

## Topic: Atari Lynx Platform Implementation

### Request
Comprehensive multi-project Atari Lynx platform implementation:
- Poppy: Create new platform, plans, research, issues, documentation
- Pansy: Add issues/docs/plans, implement support
- Peony: Add plans/issues/docs for future implementation
- Analyze Nexen's Lynx emulator (Mikey and Suzy chips)
- Document 65SC02 assembly language with examples
- Update copilot instructions for lowercase hex/mnemonics

### Research Summary

#### Nexen Lynx Core Analysis
Examined the following files:
- `Core/Lynx/LynxTypes.h` - Hardware constants and state structures
- `Core/Lynx/LynxMikey.h` - Timer/audio/display chip
- `Core/Lynx/LynxSuzy.h` - Sprite/math/input chip
- `Core/Lynx/LynxCpu.h` - 65SC02 CPU implementation

#### Key Findings
- **CPU:** WDC 65SC02 running at 4 MHz
- **Memory:** 64KB RAM, hardware mapped at $fc00-$ffff
- **New 65C02 instructions:** BRA, PHX, PHY, PLX, PLY, STZ, TRB, TSB
- **New addressing:** Zero Page Indirect (zp), Absolute Indexed Indirect
- **Mikey:** 8 timers, 4 audio, display DMA, IRQ controller
- **Suzy:** Sprite engine, 16Ã—16 math, collision, joystick

### Files Created

#### Poppy
1. `docs/atari-lynx-guide.md` - Assembly language guide (~400 lines)
2. `includes/lynx/lynx.inc` - Hardware definitions (~350 lines)
3. `~plans/atari-lynx-platform.md` - Implementation plan
4. `~plans/atari-lynx-issues.md` - GitHub issues

#### Pansy
1. `~Plans/atari-lynx-support.md` - Support plan
2. `src/Pansy.Core/PlatformDefaults.cs` - Platform defaults
3. Updated `src/Pansy.Core/Types.cs` - Added MemoryRegionType enum

#### Peony
1. `~Plans/atari-lynx-support.md` - Future implementation plan

### Key Decisions
1. Lowercase for ALL assembly mnemonics and hex values across all platforms
2. Existing Poppy infrastructure sufficient (InstructionSet65SC02.cs, AtariLynxRomBuilder.cs)
3. Pansy already had PLATFORM_LYNX = 0x09 defined
4. Peony implementation deferred (planning only)

### External Resources Identified
- https://www.monlynx.de/lynx/ - Development resources
- https://atarilynxdeveloper.wordpress.com/ - Developer blog
- https://cc65.github.io/doc/lynx.html - CC65 Lynx docs
- https://www.westerndesigncenter.com/wdc/documentation/w65c02s.pdf - CPU datasheet

